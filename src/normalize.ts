
const M = new Map<string, string>([
	["\u000D", "\u000A"],
	["\u000D\u000A", "\u000A"],
	["\u3046\u3099", "\u3094"],
	["\u304b\u3099", "\u304c"],
	["\u304d\u3099", "\u304e"],
	["\u304f\u3099", "\u3050"],
	["\u3051\u3099", "\u3052"],
	["\u3053\u3099", "\u3054"],
	["\u3055\u3099", "\u3056"],
	["\u3057\u3099", "\u3058"],
	["\u3059\u3099", "\u305a"],
	["\u305b\u3099", "\u305c"],
	["\u305d\u3099", "\u305e"],
	["\u305f\u3099", "\u3060"],
	["\u3061\u3099", "\u3062"],
	["\u3064\u3099", "\u3065"],
	["\u3066\u3099", "\u3067"],
	["\u3068\u3099", "\u3069"],
	["\u306f\u3099", "\u3070"],
	["\u306f\u309A", "\u3071"],
	["\u3072\u3099", "\u3073"],
	["\u3072\u309A", "\u3074"],
	["\u3075\u3099", "\u3076"],
	["\u3075\u309A", "\u3077"],
	["\u3078\u3099", "\u3079"],
	["\u3078\u309A", "\u307a"],
	["\u307b\u3099", "\u307c"],
	["\u307b\u309A", "\u307d"],
	["\u309d\u3099", "\u309e"],
	["\u30a6\u3099", "\u30f4"],
	["\u30ab\u3099", "\u30ac"],
	["\u30ad\u3099", "\u30ae"],
	["\u30af\u3099", "\u30b0"],
	["\u30b1\u3099", "\u30b2"],
	["\u30b3\u3099", "\u30b4"],
	["\u30b5\u3099", "\u30b6"],
	["\u30b7\u3099", "\u30b8"],
	["\u30b9\u3099", "\u30ba"],
	["\u30bb\u3099", "\u30bc"],
	["\u30bd\u3099", "\u30be"],
	["\u30bf\u3099", "\u30c0"],
	["\u30c1\u3099", "\u30c2"],
	["\u30c4\u3099", "\u30c5"],
	["\u30c6\u3099", "\u30c7"],
	["\u30c8\u3099", "\u30c9"],
	["\u30cf\u3099", "\u30d0"],
	["\u30cf\u309A", "\u30d1"],
	["\u30d2\u3099", "\u30d3"],
	["\u30d2\u309A", "\u30d4"],
	["\u30d5\u3099", "\u30d6"],
	["\u30d5\u309A", "\u30d7"],
	["\u30d8\u3099", "\u30d9"],
	["\u30d8\u309A", "\u30da"],
	["\u30db\u3099", "\u30dc"],
	["\u30db\u309A", "\u30dd"],
	["\u30ef\u3099", "\u30f7"],
	["\u30f0\u3099", "\u30f8"],
	["\u30f1\u3099", "\u30f9"],
	["\u30f2\u3099", "\u30fa"],
	["\u30fd\u3099", "\u30fe"],
])

export function normalize(value: string): string;
export function normalize(value: null | undefined): undefined;
export function normalize(value: string | null | undefined) {
  if (value == null) {
    return undefined
  }

  return value.replace(/(\r\n?|.[\u3099\u309A])/g, m => M.get(m) ?? m)
}
